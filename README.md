# 英文寫作分析器

## 影片介紹
1. 第一次審查說明: https://youtu.be/UgYSmUlx4qM
2. 第二次審查說明: https://youtu.be/Q-ppPWUA73w
3. 期末專題影片: https://youtu.be/HiC-e4MAGJE

## 簡介
這個應用程式能針對每一篇文章，完整分析出敘事方式、優缺點、佳句統整、用詞錯誤等內容，更快速、有效的得到完整回饋。

## 欲解決的問題
批改大量英文作文需花費大量時間和精力，且不一定能針對每一位學生的寫作內容完整進行評價與建議

為單純想精進英文寫作，或是想了解他人文章的人，提供完整報告

## 安裝步驟

### 1. 下載專案
```bash
git clone <你的-repo-url>
cd <你的專案資料夾>
```

### 2. 安裝所需 Python 套件
建議使用虛擬環境（venv、conda 等）：
```bash
pip install -r requirements.txt
```


### 必要檔案與設定
**Google API 憑證**  
   - 建立 `.env` 檔案，內容如下（請填入你的資訊）：
     ```bash
     GEMINI_API_KEY = 你的 Gemini API Key
     ```


## APP使用流程
1. 使用者需提供一篇文本，

EX. 在文字輸入框中輸入文字、匯入TXT檔，

每當選擇匯入檔案時，文字輸入框會顯示檔案內的文字內容。

![螢幕擷取畫面 2025-06-02 153753](https://github.com/user-attachments/assets/19155d1e-86dd-4f1c-8736-e3ef16cbf7e6)
![螢幕擷取畫面 2025-06-02 153759](https://github.com/user-attachments/assets/448e2e9d-8c0e-4d4c-9d5d-f4bcc09e0cdd)


2. 按下「開始分析」，產生分析內容
   
分析結果在介面下方產生，分析會註記分析日期與時間，以及五大段分析結果：

![image](https://github.com/user-attachments/assets/c02f706f-1328-447c-b9e3-89746f24cf9a)

最後根據提供文本，重新寫一篇同主題的範例文章。

![image](https://github.com/user-attachments/assets/9afa4cf6-51fd-4dc9-8d27-55562fa1e253)

3. 分析下載、客製
   
使用者可將原始分析結果下載儲存成PDF檔案...

![image](https://github.com/user-attachments/assets/397a986a-6d66-4d96-98e0-34f1c0f9ade8)

或是使用應用程式內建的Quill編輯器編輯分析結果。

![image](https://github.com/user-attachments/assets/ba01a711-2b01-4bd0-91d4-455d28dae0ef)


## AI Agent 流程圖
```
+-------------------------+
| 讀取使用者輸入文章或上傳檔案 |
+-------------------------+
              ↓
+------------------------------+
| 呼叫 Gemini API 分析文章內容   |
+------------------------------+
              ↓
+-----------------------------------------------------------+
| 分析內容包含：                                             |
| 第1部分：文章內容統整                                      |
| 第2部分：敘事方式分析與佳句統整                             |
| 第3部分：優點、缺點、整體回饋                               |
| 第4部分：文法與用詞錯誤（標紅）                             |
| 第5部分：文法、單字替換建議                                 |
+-----------------------------------------------------------+
              ↓
+--------------------------------+
| 生成一篇相同主題的新範例英文文章 |
+--------------------------------+
              ↓
+----------------------------------+
| 整合分析內容與範例文章生成報告HTML  |
+----------------------------------+
              ↓
+-----------------------+
| 轉換成 PDF 格式下載報告 |
+-----------------------+
```
## 詳細功能介紹
1. 文章分析
   
   本專題使用gemini-1.5-flash-latest的模型，以及預設的prompt產生分析內容。為了讓產出的結果能夠有固定結構格式，且能夠根據該格式輸出成PDF檔案，我們提供一套HTML模板給AI Agent，使每次的輸出結果能維持一致。

2. 分析結果
   
   每一次分析都會註記分析日期與時間，以及五大段分析結果：

   第一部分AI會提供中文的「內容統整」；第二部分說明這篇文章的「敘事方式」和「佳句統整」；第三部分提供「優缺點」解說，給予對文章的「整體回饋」；第四部份點出使用者的文法、用字、語句的錯誤，提供「改正建議」；第五部分則會提供文法、用字、語句的「替換建議」。
   
   最後跟據使用者提供的文本，重新寫一篇相同主題但敘事方式不同或更優秀的英文範文。這套分析讓使用者能夠理解文章脈絡、吸收優秀之處、了解缺點問題。

3. 分析結果下載
   
   使用者可以將AI Agent的原始分析結果下載儲存成PDF檔案，或是用Quill編輯器編輯分析結果。
   
   本專題使用pdfkit中HTML to PDF的生成方式，原始結果與修改結果的下載按鈕互不干擾。

4. 資料庫連結
   
   為了讓使用者可以各自調閱分析文章的歷史紀錄，本專題連接supabase資料庫，加入了登入、登出功能。

   當使用首次登入時，該帳號密碼會直接進行註冊，而一個email帳號只供註冊一次。

   在每次使用者分析文章時，使用者帳號、原始文本、AI Agent分析的結果等資訊會被記下，使用者可在介面左側的側邊欄，點選過去的歷史紀錄。

   歷史紀錄選中後會顯示在介面的輸入框與下方結果處，且該結果仍可再下載成PDF檔案，或是使用編輯器修改輸出內容。

   當滑鼠懸浮在該歷史紀錄時，右邊會有個垃圾桶的按鈕，讓使用者可以自行刪除該筆歷史資料。

5. 介面功能

   使用者可透過右下角的按鈕切換深/淺主題。

   同時，為了讓使用者可以快速至下載PDF，或快速回到介面上方進行資料分析等，本專題設置了上下箭頭按鍵，讓使用者可以一鍵瞬移，

   文字框下有一個狀態欄，顯示目前使用者在執行的狀態。

## 專題優勢
1.輔助學習的工具

它能減少一些學習者想諮詢他人建議的時間、精力成本，提供更完整的分析與回饋，加強使用者的學習效率與便利性，解決在台灣許多人學英文遇到的困擾和問題，也可提升學習者的學習動機。

2.使用者不需要自行輸入指令，即可獲得一份完整的文章分析結果

其他AI工具，如 ChatGPT、Gemini 仍可以做到文章內容分析，但使用者會需要打一長串描述與設定才能進行，且每次輸出的結果形式可能都不太一樣，或是每次皆需要重新下指令才能獲得分析結果，而該APP針對英文文章分析這件事情，預設了使用者想要的分析內容，讓使用者只需要提供文章，就可得到完整分析結果。

3. 可紀錄與修改分析結果
   
使用者可以每篇文章為單位，快速找到過去分析的文本與結果，並將輸出內容編輯成自己想要的內容。

4. 舒服與簡單的使用操作介面
   
我們設計舒適、易於使用的介面，讓使用者容易上手。
